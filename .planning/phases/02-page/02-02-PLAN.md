---
phase: 02-page
plan: 02
type: execute
wave: 1
depends_on: []
requirements: [LAYOUT-02, LAYOUT-03, LAYOUT-04, LAYOUT-05]
files_modified:
  - src/components/layout/Header.tsx
  - src/components/layout/Footer.tsx
  - src/app/globals.css
autonomous: true

must_haves:
  truths:
    - "Header is sticky at top of viewport while scrolling"
    - "Header shows 'Nexto' text logo and 5 nav links (What we do, Products, How we work, About, Contact)"
    - "Clicking a nav link scrolls smoothly to the corresponding section"
    - "Scroll offset accounts for sticky header height — section headings are not hidden"
    - "Active section's nav link gets visual emphasis as user scrolls"
    - "On mobile, nav links are hidden and a hamburger icon is shown"
    - "Hamburger opens a slide-out panel from the right with dark overlay"
    - "Tapping a mobile nav link closes the menu and scrolls to section"
    - "Footer shows copyright text and Privacy link"
  artifacts:
    - path: "src/components/layout/Header.tsx"
      provides: "Sticky header with nav, scroll-spy, mobile hamburger"
      contains: "'use client'"
    - path: "src/components/layout/Footer.tsx"
      provides: "Footer with copyright and Privacy link"
      contains: "Nexto Co., Ltd."
    - path: "src/app/globals.css"
      provides: "scroll-behavior: smooth and scroll-padding-top"
      contains: "scroll-behavior: smooth"
  key_links:
    - from: "src/components/layout/Header.tsx"
      to: "section IDs (hero, what-we-do, products, etc.)"
      via: "anchor hrefs and IntersectionObserver"
      pattern: "href=\"#"
    - from: "src/app/globals.css"
      to: "src/components/layout/Header.tsx"
      via: "scroll-padding-top matching header height"
      pattern: "scroll-padding-top"
    - from: "src/components/layout/Header.tsx"
      to: "IntersectionObserver API"
      via: "useEffect watching section elements"
      pattern: "IntersectionObserver"
---

<objective>
Create the sticky Header component with navigation, scroll-spy, and mobile hamburger menu, plus the Footer component and global CSS scroll behavior.

Purpose: The Header is the primary navigation element — it must be sticky, show active section, and provide a mobile-friendly hamburger menu. The Footer and CSS scroll rules complete the layout infrastructure.

Output: Header.tsx (client component), Footer.tsx (server component), updated globals.css with scroll behavior.
</objective>

<execution_context>
@/Users/nex/.claude/get-shit-done/workflows/execute-plan.md
@/Users/nex/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-page/02-RESEARCH.md
@src/app/globals.css
@src/app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add scroll behavior to globals.css and create Footer component</name>
  <files>
    src/app/globals.css
    src/components/layout/Footer.tsx
  </files>
  <action>
**globals.css** — Add two CSS properties to the existing `html` rule in `@layer base`:
```
scroll-behavior: smooth;
scroll-padding-top: 4rem;
```
The `scroll-padding-top: 4rem` (64px) matches the sticky header height (`h-16`). This ensures that when anchor links scroll to a section, the section heading is not hidden behind the sticky header. Keep all existing CSS (font-size, body styles, heading styles) unchanged.

**Footer.tsx** — Create `src/components/layout/` directory if it does not exist. Server component (no 'use client' directive). Must contain:
- `<footer>` element (not `<section>`)
- Inner container: `mx-auto max-w-5xl px-6 py-12`
- Copyright text: "© Nexto Co., Ltd. · Bangkok, Thailand"
- Privacy link: `<a href="/privacy" className="underline hover:text-neutral-600">Privacy</a>` — points to /privacy (will be built in Phase 3)
- Layout: flex row with copyright and privacy link, or a simple centered layout
- Text styled in `text-neutral-500 text-sm`
- Named export: `export function Footer()`
  </action>
  <verify>
Run `npx tsc --noEmit` to verify no errors. Check globals.css contains `scroll-behavior: smooth` and `scroll-padding-top: 4rem`. Check Footer.tsx exists: `ls src/components/layout/Footer.tsx`.
  </verify>
  <done>
globals.css has scroll-behavior: smooth and scroll-padding-top: 4rem in the html rule. Footer.tsx renders copyright "© Nexto Co., Ltd. · Bangkok, Thailand" and a Privacy link pointing to /privacy.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Header component with sticky nav, scroll-spy, and mobile hamburger</name>
  <files>
    src/components/layout/Header.tsx
  </files>
  <action>
Create `src/components/layout/Header.tsx` as a 'use client' component. This is the ONLY client component in Phase 2 (all sections are server components).

**Desktop layout (md breakpoint and above):**
- `<header className="sticky top-0 z-50 bg-white">` — sticky, white background, no border or blur per user decision (Ollama-style minimal)
- Inner container: `mx-auto max-w-5xl px-6 h-16 flex items-center justify-between` — height h-16 (64px = 4rem, matching scroll-padding-top)
- Left side: "Nexto" text logo as `<a href="#hero" className="font-semibold text-lg">Nexto</a>` (or just text)
- Right side: nav links in a `<nav>` with `hidden md:flex gap-8`:
  - "What we do" → href="#what-we-do"
  - "Products" → href="#products"
  - "How we work" → href="#how-we-work"
  - "About" → href="#about"
  - "Contact" → href="#contact"
- Nav link base style: `text-sm text-neutral-600 hover:text-neutral-900 transition-colors`
- Active nav link style: `text-sm font-semibold text-neutral-900` (bold treatment per user decision — active section indicator)

**Scroll-spy (IntersectionObserver):**
- Define section IDs array: `['what-we-do', 'focus', 'products', 'how-we-work', 'about', 'contact']`
- In `useEffect`, create IntersectionObserver with `rootMargin: '-20% 0px -75% 0px'` and `threshold: 0`
- When a section enters the viewport, update `activeSection` state
- Apply active style when `activeSection === sectionId`
- Clean up observer on unmount: `return () => observer.disconnect()`
- Note: 'focus' is in the observed list but not in the nav links — that's fine, it just means no nav link highlights when Focus section is in view (Focus doesn't have a nav link)

**Mobile hamburger (below md breakpoint):**
- Show a hamburger button `md:hidden` — use a simple 3-line SVG icon or unicode character (three horizontal lines). Simplest: a `<button>` with an SVG hamburger icon (3 horizontal lines, 24x24).
- `useState<boolean>` for `menuOpen`
- When hamburger clicked, set `menuOpen = true`

**Slide-out panel:**
- `<div>` with classes: `fixed top-0 right-0 h-full w-72 bg-white z-50 transform transition-transform duration-300` + conditional `translate-x-0` (open) or `translate-x-full` (closed)
- Inside: close button (X icon) at top, then nav links listed vertically with generous padding
- Each nav link: `<a href="#section-id" onClick={handleNavClick}>` where `handleNavClick` sets `menuOpen = false`
- Nav links in panel: same 5 links as desktop, styled larger for touch targets (`text-lg py-3`)

**Dark overlay:**
- When `menuOpen`: render `<div className="fixed inset-0 bg-black/40 z-40" onClick={() => setMenuOpen(false)} />`
- When `!menuOpen`: don't render overlay (or render with opacity-0 + pointer-events-none)

**Body scroll lock:**
- `useEffect` watching `menuOpen`: when true, set `document.body.style.overflow = 'hidden'`; when false, set `document.body.style.overflow = ''`
- Clean up on unmount by resetting overflow

**Important implementation notes:**
- Use plain `<a>` elements for nav links, NOT `next/link` (same-page hash navigation, per research anti-pattern)
- No border or blur on header — clean white background only (per user decision)
- Hamburger icon: simple SVG, e.g., `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6"><path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" /></svg>`
- Close icon: simple X SVG, e.g., `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6"><path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>`
- Named export: `export function Header()`
  </action>
  <verify>
Run `npx tsc --noEmit` to verify no TypeScript errors. Grep for 'use client' in Header.tsx. Grep for `IntersectionObserver` in Header.tsx. Grep for `menuOpen` in Header.tsx. Verify no `import Link from 'next/link'` in Header.tsx.
  </verify>
  <done>
Header.tsx is a 'use client' component with: sticky white header (no border/blur), "Nexto" logo, 5 nav links with active section bold indicator via IntersectionObserver, responsive hamburger button on mobile, slide-out panel from right with dark overlay, body scroll lock when menu open, and auto-close on nav link tap.
  </done>
</task>

</tasks>

<verification>
- globals.css has `scroll-behavior: smooth` and `scroll-padding-top: 4rem` in the html rule
- Header.tsx exists with 'use client' directive
- Header.tsx uses IntersectionObserver for scroll-spy (not scroll event listener)
- Header.tsx uses plain `<a>` tags (not next/link) for nav
- Header.tsx has hamburger menu with slide-out panel and dark overlay
- Header.tsx locks body scroll when mobile menu is open
- Footer.tsx exists as server component with copyright and Privacy link
- `npx tsc --noEmit` passes
</verification>

<success_criteria>
Sticky Header with working anchor nav links, scroll-spy active indicator, responsive hamburger with slide-out menu and overlay. Footer with copyright and Privacy link. CSS scroll behavior configured for smooth scrolling with header offset.
</success_criteria>

<output>
After completion, create `.planning/phases/02-page/02-02-SUMMARY.md`
</output>
