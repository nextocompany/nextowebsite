---
phase: 01-foundation
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/app/globals.css
  - src/app/layout.tsx
  - src/app/page.tsx
  - postcss.config.mjs
  - tsconfig.json
  - .eslintrc.json
autonomous: true
requirements:
  - TECH-01
  - DSGN-01
  - DSGN-03

must_haves:
  truths:
    - "npm run dev starts without errors and serves a page at localhost:3000"
    - "Body text renders in Geist Sans at ~17px with line-height 1.6 on white background"
    - "Headings render at the correct Tailwind typographic scale (h1=40px, h2=36px, h3=28px) in neutral-900"
    - "TailwindCSS v4 utility classes (e.g. text-neutral-500, bg-white) are active and applied"
    - "Content is constrained to max-w-5xl (1024px) and horizontally centered"
  artifacts:
    - path: "package.json"
      provides: "Next.js 15, TailwindCSS v4, TypeScript dependencies"
      contains: "\"next\""
    - path: "src/app/globals.css"
      provides: "Tailwind import, @theme font token, base typography layer"
      contains: "@import \"tailwindcss\""
    - path: "src/app/layout.tsx"
      provides: "Root layout with Geist font variable on <html>, antialiased body"
      exports: ["default RootLayout"]
    - path: "src/app/page.tsx"
      provides: "Blank root page shell with max-w-5xl container"
      exports: ["default Home"]
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "import './globals.css'"
      pattern: "import.*globals\\.css"
    - from: "src/app/layout.tsx"
      to: "<html> element"
      via: "className={geistSans.variable}"
      pattern: "geistSans\\.variable"
    - from: "src/app/globals.css"
      to: "body font"
      via: "@theme { --font-sans: var(--font-geist-sans) }"
      pattern: "--font-sans.*--font-geist-sans"
---

<objective>
Scaffold the Next.js 15 + TailwindCSS v4 + TypeScript project and configure the base design system: typography scale, neutral color palette, and global base styles.

Purpose: Establish the runnable foundation that all section components in Phase 2 will be inserted into. Without this, no other work can begin.
Output: A working Next.js project at localhost:3000 with Geist Sans font, neutral color base styles, and correct Tailwind v4 configuration.
</objective>

<execution_context>
@/Users/nex/.claude/get-shit-done/workflows/execute-plan.md
@/Users/nex/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js 15 project with TailwindCSS v4 and TypeScript</name>
  <files>
    package.json
    src/app/globals.css
    src/app/layout.tsx
    src/app/page.tsx
    postcss.config.mjs
    tsconfig.json
    .eslintrc.json
    next.config.ts
  </files>
  <action>
    Run the scaffold command in the project root (current directory, which is the nextowebsite folder):

    ```bash
    npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --no-git --import-alias "@/*"
    ```

    When prompted interactively (if not using flags), select: TypeScript=yes, ESLint=yes, Tailwind=yes, src/ dir=yes, App Router=yes, import alias=@/*.

    After scaffold completes, verify the generated postcss.config.mjs uses `@tailwindcss/postcss` (NOT `tailwindcss` directly). The scaffold for Next.js 15.2+ should do this automatically. If it shows `tailwindcss` as the plugin key, replace it:

    ```js
    // postcss.config.mjs — correct v4 form
    const config = { plugins: { "@tailwindcss/postcss": {} } };
    export default config;
    ```

    Do NOT create `tailwind.config.js` or `tailwind.config.ts` — TailwindCSS v4 uses CSS-only configuration via `@theme` in globals.css. Delete it if the scaffold generates one.

    Run `npm run dev` to confirm the development server starts at localhost:3000 without errors.
  </action>
  <verify>
    1. `npm run dev` starts without errors (output shows "Ready" at localhost:3000)
    2. `ls src/app/` shows layout.tsx, page.tsx, globals.css
    3. `cat postcss.config.mjs` shows `@tailwindcss/postcss` as the plugin key (not `tailwindcss`)
    4. No `tailwind.config.js` or `tailwind.config.ts` exists at project root
  </verify>
  <done>
    Development server starts and serves the default Next.js scaffold page at localhost:3000. PostCSS uses `@tailwindcss/postcss`. No tailwind.config.js present.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure globals.css and layout.tsx with typography and design tokens</name>
  <files>
    src/app/globals.css
    src/app/layout.tsx
    src/app/page.tsx
  </files>
  <action>
    **globals.css** — Replace the scaffold-generated globals.css entirely with:

    ```css
    @import "tailwindcss";

    @theme {
      /* Wire next/font CSS variable into Tailwind's font-sans token */
      --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, sans-serif;
    }

    @layer base {
      html {
        font-size: 17px; /* midpoint of 16-18px spec range */
      }

      body {
        @apply bg-white text-neutral-900 antialiased;
        font-family: var(--font-sans);
        line-height: 1.6;
      }

      h1 { @apply text-4xl font-semibold; }  /* 40px */
      h2 { @apply text-3xl font-semibold; }  /* 36px */
      h3 { @apply text-2xl font-semibold; }  /* 28px */
      h4 { @apply text-xl font-semibold; }
    }
    ```

    NOTE: Do NOT add `@tailwind base`, `@tailwind components`, or `@tailwind utilities` — those are v3 directives. In v4, `@import "tailwindcss"` replaces all three.

    **layout.tsx** — Replace with:

    ```tsx
    import { Geist } from 'next/font/google'
    import type { Metadata } from 'next'
    import './globals.css'

    const geistSans = Geist({
      variable: '--font-geist-sans',
      subsets: ['latin'],
    })

    export const metadata: Metadata = {
      title: 'Nexto',
      description: 'Enterprise software studio.',
    }

    export default function RootLayout({
      children,
    }: {
      children: React.ReactNode
    }) {
      return (
        <html lang="en" className={geistSans.variable}>
          <body className="antialiased">
            {children}
          </body>
        </html>
      )
    }
    ```

    CRITICAL: Apply `className={geistSans.variable}` to `<html>`, NOT `<body>`. The font CSS variable must be on an ancestor element for `@theme` to reference it.

    **page.tsx** — Replace scaffold content with a minimal shell that confirms typography is working (this shell will be replaced in Phase 2 with actual sections):

    ```tsx
    export default function Home() {
      return (
        <main className="mx-auto max-w-5xl px-6 py-16">
          <h1>Nexto</h1>
          <h2 className="mt-4 text-neutral-500">Enterprise software studio.</h2>
          <p className="mt-6 text-neutral-500">Foundation shell — sections added in Phase 2.</p>
        </main>
      )
    }
    ```
  </action>
  <verify>
    1. `cat src/app/globals.css` — first line is `@import "tailwindcss";`, contains `@theme` block with `--font-sans`, contains `@layer base` with h1/h2/h3 rules
    2. `cat src/app/layout.tsx` — contains `className={geistSans.variable}` on `<html>` (not on `<body>`)
    3. `npm run dev` still starts without errors
    4. Visit localhost:3000 in browser: page renders with text in Geist Sans (not system-ui fallback), h1 appears larger than h2 and h2 appears larger than body text, background is white
  </verify>
  <done>
    globals.css uses @import "tailwindcss" + @theme font token + @layer base typography. layout.tsx applies Geist font variable to &lt;html&gt;. localhost:3000 renders with correct font and typography scale visible.
  </done>
</task>

</tasks>

<verification>
Run the following checks before marking this plan complete:

1. `npm run dev` — starts without errors, serves page at localhost:3000
2. `cat postcss.config.mjs` — must contain `@tailwindcss/postcss`, NOT `tailwindcss`
3. `cat src/app/globals.css` — must start with `@import "tailwindcss";`, must contain `@theme` with `--font-sans`, must contain `@layer base` with heading rules
4. `cat src/app/layout.tsx` — must apply font variable class to `<html>`, not `<body>`
5. Browser check at localhost:3000 — Geist Sans renders (not system-ui), h1 visually larger than h2, white background, neutral-900 text
</verification>

<success_criteria>
- `npm run dev` starts without errors
- localhost:3000 renders with Geist Sans at correct scale
- TailwindCSS v4 utility classes are active (bg-white, text-neutral-900, etc.)
- No tailwind.config.js exists; configuration is CSS-only via @theme
- globals.css uses v4 syntax (no @tailwind directives, just @import "tailwindcss")
- Font variable applied to &lt;html&gt;, not &lt;body&gt;
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
